{% extends 'home/dashboard_base.html' %} 
{% block dashboard_title %} 
Overview 
{% endblock %} 
{% block dashboard_content %}
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
  <div
    class="bg-white rounded-xl shadow p-6 flex flex-col items-center border border-gray-200"
  >
    <div class="text-blue-500 text-3xl mb-2">ðŸ“„</div>
    <div class="text-2xl font-bold">{{ resumes_count|default:0 }}</div>
    <div class="text-gray-500">Resumes Uploaded</div>
  </div>
  <div
    class="bg-white rounded-xl shadow p-6 flex flex-col items-center border border-gray-200"
  >
    <div class="text-blue-500 text-3xl mb-2">âœ…</div>
    <div class="text-2xl font-bold">{{ shortlisted_count|default:0 }}</div>
    <div class="text-gray-500">Shortlisted</div>
  </div>
  <div
    class="bg-white rounded-xl shadow p-6 flex flex-col items-center border border-gray-200"
  >
    <div class="text-blue-500 text-3xl mb-2">ðŸŽ¤</div>
    <div class="text-2xl font-bold">
      {{ pending_interviews_count|default:0 }}
    </div>
    <div class="text-gray-500">Pending Interviews</div>
  </div>
</div>
<div class="bg-white rounded-xl shadow p-6 border border-gray-200 mb-8">
  <h3 class="text-lg font-semibold mb-4">Activity (Last 7 Days)</h3>
  <canvas id="activityChart" height="80"></canvas>
  <div class="mt-2 text-sm text-gray-500 flex gap-4">
    <span
      ><span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-1"></span
      >Resumes</span
    >
    <span
      ><span class="inline-block w-3 h-3 rounded-full bg-green-500 mr-1"></span
      >Shortlisted</span
    >
    <span
      ><span class="inline-block w-3 h-3 rounded-full bg-pink-500 mr-1"></span
      >Interviews</span
    >
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const ctx = document.getElementById('activityChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: {{ activity_labels|safe }},
        datasets: [
          {
            label: 'Resumes',
            data: {{ activity_resumes|safe }},
            borderColor: '#3B82F6',
            backgroundColor: 'rgba(59,130,246,0.1)',
            fill: false,
            tension: 0.3,
            pointRadius: 4,
          },
          {
            label: 'Shortlisted',
            data: {{ activity_shortlisted|safe }},
            borderColor: '#22C55E',
            backgroundColor: 'rgba(34,197,94,0.1)',
            fill: false,
            tension: 0.3,
            pointRadius: 4,
          },
          {
            label: 'Interviews',
            data: {{ activity_interviews|safe }},
            borderColor: '#EC4899',
            backgroundColor: 'rgba(236,72,153,0.1)',
            fill: false,
            tension: 0.3,
            pointRadius: 4,
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: true }
        },
        scales: {
          y: { beginAtZero: true, ticks: { stepSize: 1 } }
        }
      }
    });
  });
</script>
{% endblock %}
